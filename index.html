<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCTools - Config Generator</title>
    <meta name="description"
        content="Generate custom configuration files for MeshCentral easily with our MeshCentral Config Generator. Simplify setup, customize server options, and deploy your Mesh" />

    <!-- Google / Search Engine Tags -->
    <meta itemprop="name" content="MeshCentral Tools - Config Generator" />
    <meta itemprop="description"
        content="Generate custom configuration files for MeshCentral easily with our MeshCentral Tools - Config Generator. Simplify setup, customize server options, and deploy your Mesh" />
    <meta itemprop="image" content="https://config.meshcentraltools.com/images/logo.png" />

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://config.meshcentraltools.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="MeshCentral Tools - Config Generator" />
    <meta property="og:description"
        content="Generate custom configuration files for MeshCentral easily with our MeshCentral Tools - Config Generator. Simplify setup, customize server options, and deploy your Mesh" />
    <meta property="og:image" content="https://config.meshcentraltools.com/images/logo.png" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="MeshCentral Tools - Config Generator" />
    <meta name="twitter:description"
        content="Generate custom configuration files for MeshCentral easily with our MeshCentral Tools - Config Generator. Simplify setup, customize server options, and deploy your Mesh" />
    <meta name="twitter:image" content="https://config.meshcentraltools.com/images/logo.png" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ajv/6.12.6/ajv.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/theme/dracula.min.css">
    <link rel="icon" type="image/png" href="images/logo.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/javascript/javascript.min.js"></script>

    <!-- YAML support for CodeMirror 5 + js-yaml -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/yaml/yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="header-top">
        <div class="header-left">
            <div class="header-title-group">
                <h1 style="margin: 0; padding: 0;">MCTools - Config Generator</h1>
                <span class="help-icon">?
                    <div class="help-tooltip">
                        <p>This app is a configuration generator for MeshCentral, using the official schema from <a
                                href="https://raw.githubusercontent.com/Ylianst/MeshCentral/master/meshcentral-config-schema.json"
                                target="_blank" style="color: #0f0;">MeshCentral Schema</a>.</p>
                        <p>Objective: Easily create or edit config.json files for MeshCentral servers.</p>
                        <p>How to use:</p>
                        <ul>
                            <li>Optionally upload an existing config.json to edit.</li>
                            <li>Fill in or modify fields in the form.</li>
                            <li>Download the generated config.json.</li>
                        </ul>
                    </div>
                </span>
            </div>
            <div id="versionSelectorContainer" class="custom-select-container">
                <div id="versionSelectorDisplay" class="custom-select-display" title="Select MeshCentral version">
                    <span id="versionText">Loading versions...</span>
                    <span class="dropdown-arrow"></span>
                </div>
                <div id="versionSelectorDropdown" class="custom-select-dropdown">
                    <div id="versionSelectorOptions" class="custom-select-options"></div>
                </div>
            </div>

            <div id="validationMsg"></div>

            <!-- Template Selector -->
            <div id="templateSelectorContainer" class="custom-select-container" style="margin-left: 10px;">
                <div id="templateSelectorDisplay" class="custom-select-display" title="Select configuration template">
                    <span id="templateText">Templates</span>
                    <span class="dropdown-arrow"></span>
                </div>
                <div id="templateSelectorDropdown" class="custom-select-dropdown">
                    <div id="templateSelectorOptions" class="custom-select-options"></div>
                </div>
            </div>
        </div>
        <div class="header-right">
            <label id="uploadLabel">Upload
                <input type="file" id="uploadConfig" accept=".json, .txt">
            </label>
            <button id="downloadBtn">Download</button>

            <button id="copyBtn">Copy</button>

            <!-- LIGHT/DARK TOGGLE BUTTON -->
            <button id="formatToggle">YAML</button>

            <button id="themeToggle" title="Toggle light / dark mode">
                <svg id="themeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>

            <div onclick="toggleDropdown()" class="profile-dropdown">

                <img src="images/logo.png" alt="Logo" class="logo">
                <span class="profile-name">MC Tools</span>
                <div class="dropdown-menu" id="dropdown-menu">
                    <a href="https://github.com/Melo-Professional/" target="_blank">My GitHub</a>
                    <a href="https://sanitizer.meshcentraltools.com/" target="_blank">Config Sanitizer</a>
                    <a href="https://github.com/Melo-Professional/MeshCentral-Stylish-UI" target="_blank">Stylish UI</a>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="column left" id="formContainer"></div>
        <div class="resizer"></div>
        <div class="column right">
            <textarea id="jsonPreview"></textarea>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <!-- Custom JavaScript Modules -->
    <script src="js/utils.js"></script>
    <script src="js/data-collector.js"></script>
    <script src="js/form-generator.js"></script>
    <script src="js/ui-handlers.js"></script>
    <script src="js/version-manager.js"></script>
    <script src="js/template-manager.js"></script>
    <script src="js/app.js"></script>

    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'999ad634cafc1047',t:'MTc2MjMyOTgyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>